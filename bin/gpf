#!/bin/zsh
BRANCH=$(git symbolic-ref HEAD --short)
BDATE=$(date "+%y%m%d")
MESSAGE=":pr: "
MESSAGE+=$2
if [ -n "$1" ]; then
	git push origin ${BRANCH}:feature/${GITHUBUN}/${BDATE}-${1}-${BRANCH} -f
	if [ -n "$2" ]; then
		hub pull-request -o -b develop -h feature/${GITHUBUN}/${BDATE}-${1}-${BRANCH} -m ${MESSAGE}
	else
		hub pull-request -o -b develop -h feature/${GITHUBUN}/${BDATE}-${1}-${BRANCH} -m 
	fi
else
	echo "You must supply a JIRA project to use this command."
fi